<div class="container">

<input type="hidden" id="current_carkey" name="current_carkey" value="{{car.avatar}}">

	<div class="row">
		<div class="col-sm-4 col-md-4 user-details">
            <div class="user-image">
                
            </div>
            
        </div>
	</div>
	<div class="row" >
		<hr class="">
	<div class="container target">
	    <div class="row">
	        <div class="col-sm-10">
		        <div class="btn-group-vertical pull-left" role="group" aria-label="..">
		        	<button carid="{{car.key.id()}}"  data-toggle="modal" type="button" id="btn_getcontactfrm" class="btn btn-sm btn-success">Add a Contact</button>  
		        	
		          	<!--  <button carid="{{car.key.id()}}"  data-toggle="modal" href="#add_contactModal" type="button" id="addcontact_btn" class="btn btn-sm btn-success">Add a Contact</button>  -->
		          	<button type="button"  class="btn btn-primary btn-sm " carid="{{car.key.id()}}" id="add_service_btn" >Add service</button>
		          	<button type="button" class="btn btn-info btn-sm " id="list_services" carid="{{car.key.id()}}" >List services </button>
	        	</div>
				
	        	
					<br>
		        </div>
		      	<div class="col-sm-2" id="testme"><a href="/users" class="pull-right"><img title="profile image"  id="car_image" class="img-circle img-responsive" src="/view_photo/{{car.avatar}}"></a>
		
		        </div>
		    </div>
		  	<br>
		    <div class="row">
		        <div class="col-sm-3">
		            <!--left col-->
		            <ul class="list-group">
		                <li class="list-group-item text-muted" contenteditable="false">General Information</li>
		                <li class="list-group-item text-right"><span class="pull-left"><strong class="">Brand:</strong></span> {{car.brand}}</li>
		                <li class="list-group-item text-right"><span class="pull-left"><strong class=""> <i class="fa fa-tag"></i> Type:</strong></span>  {{car.name}} </li>
		                <li class="list-group-item text-right" id="car_ident" ident="{{car.key.id()}}"><span class="pull-left"><strong class="">ID:</strong></span> {{car.key.id()}}</li>
		                <li class="list-group-item text-right"><span class="pull-left"><strong class=""><i class="fa fa-wrench"></i> Garage:</strong></span> {{garage.name}}</li>		            
		                <li class="list-group-item text-right"><span class="pull-left"><strong class=""> <i class="fa fa-ship"></i> Shipped :</strong></span> {{car.last_edit}} </li>
		                <li class="list-group-item text-right"  id="garage_price" price_per_hour="{{garage.price_per_hours}}"><span class="pull-left"><strong class="">Garage Price p Hour :</strong></span> {{garage.price_per_hours}}</li>
		                <li class="list-group-item text-right"><span class="pull-left"><strong class="">Contact :</strong></span>  "Unknown"  <a id="show_user"><i class="fa fa-user" style="margin-left:5px;cursor:pointer;"></i></a></li>
		              	<li class="list-group-item text-right"><span class="pull-left"><strong class="">Services :</strong></span>{{car.listservices_count() if car.listservices_count() is not none else 0}}<small> items in list</small> <a id="show_services"><i class="fa fa-binoculars" style="margin-left:5px;cursor:pointer;"></i></a></li>
		            </ul>
		            <div class="panel panel-default">
		                <div class="panel-heading">Garage <i class="fa fa-tag fa-1x"></i>
		
		                </div>
		                
		                <div class="panel-body"><a href="/showgarage/{{garage.key.id()}}" class="">{{garage.name}} </a>
						<button gid={{garage.key.id()}} id="get_garage_btn" name="get_garage_btn" class="fa fa-wrench" >Show Garage </button>
		                </div>
		            </div>
	          
		            <ul class="list-group">
		                <li class="list-group-item text-muted">Activity <i class="fa fa-dashboard fa-1x"></i>
		
		                </li>
		                <li class="list-group-item text-right"><span class="pull-left"><strong class="">Shares</strong></span> 125</li>
		                <li class="list-group-item text-right"><span class="pull-left"><strong class="">Likes</strong></span> 13</li>
		                    <li class="list-group-item text-right"><span class="pull-left"><strong class="">Posts</strong></span> 37</li>
		                        <li class="list-group-item text-right"><span class="pull-left"><strong class="">Followers</strong></span> 78</li>
		            </ul>
		            <div class="panel panel-default">
		                <div class="panel-heading">Actions</div>
			                <div class="panel-body">
	
			
			                </div>
		            </div>
		        </div>
		        <!--/col-3-->
		        <div class="col-sm-9" contenteditable="false" style="">
		            <div class="panel panel-primary">
		                <div class="panel-heading">Info</div>
	                	<div class="panel-body"> 
	                		<div class="" id="contact-holder">
	        	
	        	
	        	
	        				</div>
		                </div>
		            </div>
		            <div class="panel panel-primary target" id="service_list">
		                <div class="panel-heading" contenteditable="false">Pets I Own</div>
		                	<div class="panel-body">
		                  		<div class="row">
									<div class="col-md-4">
										<div class="thumbnail">
											<img alt="300x200" src="http://lorempixel.com/600/200/people">
												<div class="caption">
													<h3>Rover</h3>
													<p>
														Cocker Spaniel who loves treats.
													</p>
												</div>
											</div>
										</div>
										<div class="col-md-4">
											<div class="thumbnail">
												<img alt="300x200" src="http://lorempixel.com/600/200/city">
												<div class="caption">
													<h3>
														Marmaduke
													</h3>
													<p>
														Is just another friendly dog.
													</p>
												</div>
											</div>
										</div>
										<div class="col-md-4">
											<div class="thumbnail">
												<img alt="300x200" src="http://lorempixel.com/600/200/sports">
												<div class="caption">
													<h3>
														Rocky
													</h3>
													<p>
														Loves catnip and naps. Not fond of children.
													</p>
													<p>
													</p>
												</div>
						                	</div> 
						            	</div>
		            				</div>
		        				</div>
	    					</div>
						</div>
						<div id="push"></div>
	        		</div>
	        		<footer id="footer">
	           			 <div class="row-fluid">
	                		<div class="span3">
			                    <p> 
			                        
			                    </p>
	                		</div>
			                <div class="span3">
			                    <p> 
			                        
			                    </p>
			                </div>
			                <div class="span3">
			                    <p> 
			                        
			                    </p>
			                </div>
	            		</div>
        			</footer>	
	        <script>
	          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	          ga('create', 'UA-40413119-1', 'bootply.com');
	          ga('send', 'pageview');
	        </script>
	        <script>
	        jQuery.fn.shake = function(intShakes, intDistance, intDuration, foreColor) {
	            this.each(function() {
	                if (foreColor && foreColor!="null") {
	                    $(this).css("color",foreColor); 
	                }
	                $(this).css("position","relative"); 
	                for (var x=1; x<=intShakes; x++) {
	                $(this).animate({left:(intDistance*-1)}, (((intDuration/intShakes)/4)))
	                .animate({left:intDistance}, ((intDuration/intShakes)/2))
	                .animate({left:0}, (((intDuration/intShakes)/4)));
	                $(this).css("color",""); 
	            }
	          });
	        return this;
	        };
	        </script>
	        <script>
	        $(document).ready(function() {
	        
	            $('.tw-btn').fadeIn(3000);
	            $('.alert').delay(5000).fadeOut(1500);
	            
	            $('#btnLogin').click(function(){
	                $(this).text("...");
	                $.ajax({
	                    url: "/loginajax",
	                    type: "post",
	                    data: $('#formLogin').serialize(),
	                    success: function (data) {
	                        //console.log('data:'+data);
	                        if (data.status==1&&data.user) { //logged in
	                            $('#menuLogin').hide();
	                            $('#lblUsername').text(data.user.username);
	                            $('#menuUser').show();
	                            /*
	                            $('#completeLoginModal').modal('show');
	                            $('#btnYes').click(function() {
	                                window.location.href="/";
	                            });
	                            */
	                        }
	                        else {
	                            $('#btnLogin').text("Login");
	                            prependAlert("#spacer",data.error);
	                            $('#btnLogin').shake(4,6,700,'#CC2222');
	                            $('#username').focus();
	                        }
	                    },
	                    error: function (e) {
	                        $('#btnLogin').text("Login");
	                        console.log('error:'+JSON.stringify(e));
	                    }
	                });
	            });
	            $('#btnRegister').click(function(){
	                $(this).text("Wait..");
	                $.ajax({
	                    url: "/signup?format=json",
	                    type: "post",
	                    data: $('#formRegister').serialize(),
	                    success: function (data) {
	                        console.log('data:'+JSON.stringify(data));
	                        if (data.status==1) {
	                            $('#btnRegister').attr("disabled","disabled");
	                            $('#formRegister').text('Thanks. You can now login using the Login form.');
	                        }
	                        else {
	                            prependAlert("#spacer",data.error);
	                            $('#btnRegister').shake(4,6,700,'#CC2222');
	                            $('#btnRegister').text("Sign Up");
	                            $('#inputEmail').focus();
	                        }
	                    },
	                    error: function (e) {
	                        $('#btnRegister').text("Sign Up");
	                        console.log('error:'+e);
	                    }
	                });
	            });
	            
	            $('.loginFirst').click(function(){
	                $('#navLogin').trigger('click');
	                return false;
	            });
	            
	            $('#btnForgotPassword').on('click',function(){
	                $.ajax({
	                    url: "/resetPassword",
	                    type: "post",
	                    data: $('#formForgotPassword').serializeObject(),
	                    success: function (data) {
	                        if (data.status==1){
	                            prependAlert("#spacer",data.msg);
	                            return true;
	                        }
	                        else {
	                            prependAlert("#spacer","Your password could not be reset.");
	                            return false;
	                        }
	                    },
	                    error: function (e) {
	                        console.log('error:'+e);
	                    }
	                });
	            });
	            
	            $('#btnContact').click(function(){
	                
	                $.ajax({
	                    url: "/contact",
	                    type: "post",
	                    data: $('#formContact').serializeObject(),
	                    success: function (data) {
	                        if (data.status==1){
	                            prependAlert("#spacer","Thanks. We got your message and will get back to you shortly.");
	                             $('#contactModal').modal('hide');
	                            return true;
	                        }
	                        else {
	                            prependAlert("#spacer",data.error);
	                            return false;
	                        }
	                    },
	                    error: function (e) {
	                        console.log('error:'+e);
	                    }
	                });
	                return false;
	            });
	            
	            /*
	            $('.nav .dropdown-menu input').on('click touchstart',function(e) {
	                e.stopPropagation();
	            });
	            */  
	  
	        });
	        $.fn.serializeObject = function()
	        {
	            var o = {};
	            var a = this.serializeArray();
	            $.each(a, function() {
	                if (o[this.name] !== undefined) {
	                    if (!o[this.name].push) {
	                        o[this.name] = [o[this.name]];
	                    }
	                    o[this.name].push(this.value || '');
	                } else {
	                    o[this.name] = this.value || '';
	                }
	            });
	            return o;
	        };
	        var prependAlert = function(appendSelector,msg){
	            $(appendSelector).after('<div class="alert alert-info alert-block affix" id="msgBox" style="z-index:1300;margin:14px!important;">'+msg+'</div>');
	            $('.alert').delay(3500).fadeOut(1000);
	        }
	        </script>
	        <!-- Quantcast Tag -->
	        <script type="text/javascript">
	        var _qevents = _qevents || [];
	        
	        (function() {
	        var elem = document.createElement('script');
	        elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
	        elem.async = true;
	        elem.type = "text/javascript";
	        var scpt = document.getElementsByTagName('script')[0];
	        scpt.parentNode.insertBefore(elem, scpt);
	        })();
	        
	        _qevents.push({
	        qacct:"p-0cXb7ATGU9nz5"
	        });
	        </script>
	        
				
				
				<div id="add_contactModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
					<div class="modal-dialog">
						
						<div class="modal-content">
							
							<div class="modal-header">
				                <a href="#" data-dismiss="modal" aria-hidden="true" class="close">×</a>
				                 <h3>Add a contact to {{ car.name }}</h3>
				            </div>
				            
				            <div class="modal-body">
				                <div class="col-sm-5">
					            	<div id="contactform">
					         		<!-- Template for adding a contact. -->
										<form class="form-horizontal" id="add_contact_form" name="add_contact_template">
											<fieldset>
									<!-- Text input-->
												<div class="control-group">
												  <label class="control-label" for="contact_first_name">First Name</label>
												  <div class="controls">
												    <input id="contact_first_name" name="contact_first_name" type="text" placeholder="Place a name here..." class="input-medium" required="">
												  </div>
												</div>
								<!-- Text input-->
												<div class="control-group">
												  <label class="control-label" for="contact_email">Email</label>
												  <div class="controls">
												    <input id="contact_email" name="contact_email" type="text" placeholder="Email..." class="input-medium">
												  </div>
												</div>
												<!-- Text input-->
												<div class="control-group">
												  <label class="control-label" for="contact_tel">Telephone</label>
												  <div class="controls">
												    <input id="contact_tel" name="contact_tel" type="text" placeholder="Telephone nr here..." class="input-medium">
												  </div>
												</div>
												<!-- Select Basic -->
												<div class="control-group">
												  <label class="control-label" for="contact_klootfactor">Kloot Factor</label>
												  <div class="controls">
												    <select id="contact_klootfactor" name="contact_klootfactor" class="input-small selectpicker">
												      <option value=3 >3x</option>
												      <option value=5>5x</option>
												      <option value=12>12x</option>
												      <option value=50>50x</option>
												      <option value=75>75x</option>
												      <option value=120000>120000x</option>
												    </select>
												  </div>
												</div>
												<!-- Multiple Checkboxes (inline) -->
												<div class="control-group">
												  <label class="control-label" for="contact_gender">Gender</label>
												    <select class="controls selectpicker" id='contact_gender'>
												    	<option value='male'>Male</option>
												    	<option value='female'>Female</option>
												    </select>
												</div>
											
											<!-- Button (Double) -->
											<div class="control-group">
											  <label class="control-label" for="save_contact">Action</label>
											  <div class="controls">
											    <button id="save_contact" name="save_contact" carid="{{car.key.id()}}"  class="btn btn-success">Save</button>
											    <button id="cancel_contact" name="cancel_contact" class="btn btn-danger" data-dismiss="modal" aria-hidden="true" >Cancel</button>
											  </div>
											</div>
										</fieldset>
									</form>
									</div>
									<!-- / Template for adding a contact. -->
								</div>
			            	</div>
				            
				            
						</div>
					
					</div>

	        </div>
	        <div id="add_serviceModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true">
	            <div class="modal-header">
	                <a href="#" data-dismiss="modal" aria-hidden="true" class="close">×</a>
	                 <h3>Do you want to proceed?</h3>
	            </div>
	            <div class="modal-body">
	                <form class="form-horizontal" id="add_service_template" name="add_service_template">
						<fieldset>
						<!-- Form Name -->
						<!-- Text input-->
						<div class="control-group">
						  <label class="control-label" for="replacement_part">Replacement Part</label>
						  <div class="controls">
						    <input id="replacement_part" name="replacement_part" type="text" placeholder="Place a part name here..." class="input-medium" required="required"/>
						    <input type="hidden" id="car-id" value="{{car.key}}"/>
						  </div>
						</div>
						<!-- Text input-->
						<div class="control-group">
						  <label class="control-label" for="price_part">Price Part</label>
						  <div class="controls">
						    <input id="price_part" name="price_part" type="text" placeholder="Price for part..." class="input-medium"/>
						  </div>
						</div>
						<!-- Text input-->
						<div class="control-group">
						  <label class="control-label" for="worked_hrs">worked hrs</label>
						  <div class="controls">
						    <input id="worked_hrs" name="worked_hrs" type="amount" placeholder="Edit working hours..." class="input-medium"/>
						  </div>
						</div>
						<!-- Button (Double) -->
						<div class="control-group">
						  <label class="control-label" for="save_contact">Action</label>
						  <div class="controls">
						    <button id="save_service" carid="{{car.key.id()}}" name="save_service" class="btn btn-success">Save</button>
						    <button id="cancel_service" name="cancel_service" data-dismiss="modal" aria-hidden="true" class="btn btn-danger">Cancel</button>
						  </div>
						</div>
					</fieldset>
				</form>
            </div>
	        </div>
	        <!-- End Quantcast tag -->
	        <div id="completeLoginModal" class="modal hide">
	            <div class="modal-header">
	                <a href="#" data-dismiss="modal" aria-hidden="true" class="close">×</a>
	                 <h3>Do you want to proceed?</h3>
	            </div>
	            <div class="modal-body">
	                <p>This page must be refreshed to complete your login.</p>
	                <p>You will lose any unsaved work once the page is refreshed.</p>
	                <br><br>
	                <p>Click "No" to cancel the login process.</p>
	                <p>Click "Yes" to continue...</p>
	            </div>
	            <div class="modal-footer">
	              <a href="#" id="btnYes" class="btn danger">Yes, complete login</a>
	              <a href="#" data-dismiss="modal" aria-hidden="true" class="btn secondary">No</a>
	            </div>
	        </div>
	        <div id="forgotPasswordModal" class="modal hide">
	            <div class="modal-header">
	                <a href="#" data-dismiss="modal" aria-hidden="true" class="close">×</a>
	                 <h3>Password Lookup</h3>
	            </div>
	            <div class="modal-body">
	                  <form class="form form-horizontal" id="formForgotPassword">    
	                  <div class="control-group">
	                      <label class="control-label" for="inputEmail">Email</label>
	                      <div class="controls">
	                          <input name="_csrf" id="token" type="hidden" value="CkMEALL0JBMf5KSrOvu9izzMXCXtFQ/Hs6QUY=">
	                          <input type="email" name="email" id="inputEmail" placeholder="you@youremail.com" required="">
	                          <span class="help-block"><small>Enter the email address you used to sign-up.</small></span>
	                      </div>
	                  </div>
	                  </form>
	            </div>
	            <div class="modal-footer pull-center">
	                <a href="#" data-dismiss="modal" aria-hidden="true" class="btn">Cancel</a> 	
	            	<a href="#" data-dismiss="modal" id="btnForgotPassword" class="btn btn-success">Reset Password</a>
	            </div>
	            
	        </div>
	        <div id="upgradeModal" class="modal hide">
	            <div class="modal-header">
	                <a href="#" data-dismiss="modal" aria-hidden="true" class="close">×</a>
	                 <h4>Would you like to upgrade?</h4>
	            </div>
	            <div class="modal-body">
	                  <p class="text-center"><strong></strong></p>
	                  <h1 class="text-center">$4<small>/mo</small></h1>
	                  <p class="text-center"><small>Unlimited plys. Unlimited downloads. No Ads.</small></p>
	                  <p class="text-center"><img src="/assets/i_visa.png" width="50" alt="visa"> <img src="/assets/i_mc.png" width="50" alt="mastercard"> <img src="/assets/i_amex.png" width="50" alt="amex"> <img src="/assets/i_discover.png" width="50" alt="discover"> <img src="/assets/i_paypal.png" width="50" alt="paypal"></p>
	            </div>
	            <div class="modal-footer pull-center">
	            	<a href="/upgrade" class="btn btn-block btn-huge btn-success"><strong>Upgrade Now</strong></a>
	            	<a href="#" data-dismiss="modal" class="btn btn-block btn-huge">No Thanks, Maybe Later</a>
	            </div>
	        </div>
	        
	        <div id="contactModal" class="modal hide">
	            <div class="modal-header">
	                <a href="#" data-dismiss="modal" aria-hidden="true" class="close">×</a>
	                <h3>Contact Us</h3>
	                <p>suggestions, questions or feedback</p>
	            </div>
	            <div class="modal-body">
	                  <form class="form form-horizontal" id="formContact">
	                      <input name="_csrf" id="token" type="hidden" value="CkMEALL0JBMf5KSrOvu9izzMXCXtFQ/Hs6QUY=">
	                      <div class="control-group">
	                          <label class="control-label" for="inputSender">Name</label>
	                          <div class="controls">
	                              <input type="text" name="sender" id="inputSender" class="input-large" placeholder="Your name">
	                          </div>
	                      </div>
	                      <div class="control-group">
	                          <label class="control-label" for="inputMessage">Message</label>
	                          <div class="controls">
	                              <textarea name="notes" rows="5" id="inputMessage" class="input-large" placeholder="Type your message here"></textarea>
	                          </div>
	                      </div>
	                      <div class="control-group">
	                          <label class="control-label" for="inputEmail">Email</label>
	                          <div class="controls">
	                              <input type="text" name="email" id="inputEmail" class="input-large" placeholder="you@youremail.com (for reply)" required="">
	                          </div>
	                      </div>
	                  </form>
	            </div>
	            <div class="modal-footer pull-center">
	                <a href="#" data-dismiss="modal" aria-hidden="true" class="btn">Cancel</a>     
	                <a href="#" data-dismiss="modal" aria-hidden="true" id="btnContact" role="button" class="btn btn-success">Send</a>
	            </div>
	        </div>

		<script src="/scripts/bootstrap-pager.js"></script>
		<script type="text/javascript">
			$('.selectpicker').selectpicker({
			      style: 'btn-info',
			      size: 4
			  });
		</script>
	
	</div>
</div>